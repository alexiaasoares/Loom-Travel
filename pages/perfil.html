<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil | L¬∑oM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="/css/perfil.css">
    <link rel="stylesheet" href="/css/Essenciais/Footer.css">
    <link rel="stylesheet" href="/css/Essenciais/navbar.css">
</head>

<body>
    <!-- Header -->
    <header>
        <div class="logo"> <img src="/assets/logoloom.png" alt="Logo Loom"
                onclick="window.location.href='index.html'" />
        </div>
        <nav class="navegacao-principal">
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="pacotes.html">PACOTES</a></li>
                <li><a href="aloomgueis.html">ALUGUEL</a></li>
                <li><a href="passagens.html">PASSAGENS</a></li>
                <li><a href="pontosTuristicos.html">PONTOS TUR√çSTICOS</a></li>
            </ul>
        </nav>
        <div class="header-utils">
            <form class="header-search" action="/buscar" method="get" role="search"> <input type="search" name="q"
                    placeholder="Pesquisar destinos..." aria-label="Pesquisar destinos" /> <i
                    class="fa-solid fa-magnifying-glass fa-xl" style="color: #3d5ab2;"></i>
            </form>
            <div class="area-cliente">
                ¬† <a href="favoritos.html" class="btn-favoritos" title="Favoritos" aria-label="P√°gina de Favoritos">
                    <i class="fa-regular fa-heart fa-lg" style="color: #3d5ab2;"></i>
                </a>
                <a href="login.html" class="btn-login" title="Login" aria-label="P√°gina de Login"> <i
                        class="fa-solid fa-circle-user fa-xl" style="color: #3d5ab2;"></i></a>
            </div>
        </div>
    </header> <br>


    <main class="perfil-main">
        <section class="perfil-header">
            <div class="avatar">
                <i class="fa-solid fa-user fa-4x"></i>
            </div>
            <div class="user-info">
                <h1>Ol√°, Ana Silva üëã</h1>
                <p>Usu√°rio desde 15/03/2024</p>
                <div class="user-stats">
                    <span><strong>3</strong> Favoritos</span>
                    <span><strong>2</strong> Viagens Realizadas</span>
                    <span><strong>R$ 8.990,00</strong> Gastos Totais</span>
                </div>
            </div>
        </section>

        <section class="perfil-tabs">
            <button class="tab-btn active" data-tab="dados">Dados Pessoais</button>
            <button class="tab-btn" data-tab="historico">Hist√≥rico de Compras</button>
        </section>

        <!-- Aba: Dados Pessoais -->
        <section id="dados" class="tab-content active">
            <h2>Dados Pessoais</h2>

            <br>

            <form class="perfil-form">
                <div class="form-group">
                    <label for="nome">Nome Completo</label>
                    <input type="text" id="nome" required>
                </div>
                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="telefone">Telefone</label>
                    <input type="tel" id="telefone">
                </div>
                <div class="form-group">
                    <label for="cpf">CPF</label>
                    <input type="text" id="cpf" readonly>
                </div>
                <div class="form-group">
                    <label for="data-nasc">Data de Nascimento</label>
                    <input type="date" id="data-nasc">
                </div>
                <div class="form-group">
                    <label for="cep">CEP</label>
                    <input type="text" id="cep" readonly>
                </div>
                <div class="form-group">
                    <label for="logradouro">Logradouro</label>
                    <input type="text" id="logradouro" readonly>
                </div>
                <div class="form-group">
                    <label for="numero">N√∫mero</label>
                    <input type="text" id="numero">
                </div>
                <div class="form-group">
                    <label for="complemento">Complemento</label>
                    <input type="text" id="complemento">
                </div>
                <div class="form-group">
                    <label for="bairro">Bairro</label>
                    <input type="text" id="bairro" readonly>
                </div>
                <div class="form-group">
                    <label for="cidade">Cidade</label>
                    <input type="text" id="cidade" readonly>
                </div>
                <div class="form-group">
                    <label for="uf">UF</label>
                    <input type="text" id="uf" maxlength="2" readonly>
                </div>

                <button type="button" class="btn-sair" id="btn-logout-perfil">
                    Sair da Conta
                </button>
            </form>
        </section>

        <!-- Aba: Hist√≥rico de Compras -->
        <section id="historico" class="tab-content">
            <h2>Hist√≥rico de Compras</h2>
            <div class="compras-lista">
                <div class="compra-item">
                    <img src="/assets/salvador-ba.jpg" alt="Salvador - BA" />
                    <div class="compra-detalhes">
                        <h3>Salvador - BA</h3>
                        <p>01/12 ‚Äì 15/12 ‚Ä¢ 1-4 pessoas</p>
                        <p><strong>R$ 2.329,00</strong> ‚Ä¢ Finalizado em 20/11/2024</p>
                    </div>
                    <button class="btn-compra">Detalhes</button>
                </div>

                <div class="compra-item">
                    <img src="/assets/bali-indonesia.jpg" alt="Bali - Indon√©sia" />
                    <div class="compra-detalhes">
                        <h3>Bali - Indon√©sia</h3>
                        <p>12/12 ‚Äì 21/12 ‚Ä¢ 1-2 pessoas</p>
                        <p><strong>R$ 12.500,00</strong> ‚Ä¢ Finalizado em 15/11/2024</p>
                    </div>
                    <button class="btn-compra">Detalhes</button>
                </div>
            </div>
        </section>

    </main>

    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>Institucional</h4>
                <ul>
                    <li><a href="#">Sobre N√≥s</a></li>
                    <li><a href="#">Nossa Hist√≥ria</a></li>
                    <li><a href="#">Trabalhe Conosco</a></li>
                    <li><a href="#">Imprensa</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Ajuda e Suporte</h4>
                <ul>
                    <li><a href="#">Central de Atendimento</a></li>
                    <li><a href="#">Pol√≠tica de Privacidade</a></li>
                    <li><a href="#">Termos de Uso</a></li>
                    <li><a href="#">Cancelamentos e Reembolsos</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contato</h4>
                <ul>
                    <li>Email: contato@loomviagens.com.br</li>
                    <li>Telefone: (11) 99999-9999</li>
                    <li>WhatsApp: (11) 98888-7777</li>
                    <li>Hor√°rio de Atendimento: Seg-Sex 9h √†s 18h</li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Receba Novidades</h4>
                <p>Inscreva-se e receba promo√ß√µes exclusivas!</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Seu melhor e-mail" required />
                    <button type="submit">Enviar</button>
                </form>
            </div>
        </div>
        <div class="footer-social">
            <h4>Siga-nos</h4>
            <div class="social-icons">
                <a href="#" aria-label="Siga-nos no Facebook" target="_blank">üìò</a>
                <a href="#" aria-label="Siga-nos no Instagram" target="_blank">üì∑</a>
                <a href="#" aria-label="Siga-nos no LinkedIn" target="_blank">üíº</a>
                <a href="#" aria-label="Siga-nos no YouTube" target="_blank">‚ñ∂Ô∏è</a>
            </div>
        </div>
        <div class="footer-legal">
            <p>¬© 2025 Loom Viagens. Todos os direitos reservados.</p>
            <p>CNPJ: 00.000.000/0001-00 | Rua Exemplo, 123 - S√£o Paulo/SP</p>
        </div>
    </footer>

    <script>
        // Verifica se o usu√°rio est√° logado ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', function () {
            const usuarioLogado = localStorage.getItem('usuarioLogado');

            if (!usuarioLogado) {
                // Se n√£o estiver logado, redireciona para login com mensagem
                alert("Voc√™ precisa estar logado para acessar esta p√°gina.");
                window.location.href = '/pages/login.html';
            } else {
                // Atualiza o nome no cabe√ßalho (opcional)
                const usuario = JSON.parse(usuarioLogado);
                document.querySelector('.user-info h1').textContent = `Ol√°, ${usuario.nome} üëã`;
            }
        });
    </script>

    <script>
        // Bot√£o de sair dentro da aba de Dados Pessoais
        document.getElementById('btn-logout-perfil')?.addEventListener('click', function () {
            if (confirm('Tem certeza que deseja sair?')) {
                localStorage.removeItem('usuarioLogado');
                alert('Voc√™ saiu da conta.');
                window.location.href = '/pages/index.html';
            }
        });
    </script>

    <script src="/Javascript/perfil.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Verifica login
            const usuarioLogadoStr = localStorage.getItem('usuarioLogado');
            if (!usuarioLogadoStr) {
                alert("Voc√™ precisa estar logado para acessar esta p√°gina.");
                window.location.href = '/pages/login.html';
                return;
            }

            const usuario = JSON.parse(usuarioLogadoStr);

            // Atualiza cabe√ßalho
            document.querySelector('.user-info h1').textContent = `Ol√°, ${usuario.nome || 'Usu√°rio'} üëã`;

            // Formata e exibe data de cadastro
            if (usuario.dataCadastro) {
                const data = new Date(usuario.dataCadastro);
                const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
                document.querySelector('.user-info p').textContent =
                    `Usu√°rio desde ${data.toLocaleDateString('pt-BR', options)}`;
            }

            // Preenche o formul√°rio
            document.getElementById('nome').value = usuario.nome || '';
            document.getElementById('email').value = usuario.email || '';
            document.getElementById('telefone').value = usuario.telefone || '';
            document.getElementById('cpf').value = usuario.cpf
                ? usuario.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4')
                : '';
            document.getElementById('data-nasc').value = usuario.dataNascimento || '';

            // Endere√ßo (se tiver ‚Äî voc√™ pode salvar no cadastro futuramente)
            // Por enquanto, deixa em branco ou usa dados fict√≠cios
            // Se quiser, posso te ajudar a salvar o endere√ßo no cadastro tamb√©m!

            // Bot√£o de sair
            document.getElementById('btn-logout')?.addEventListener('click', function () {
                if (confirm('Sair da conta?')) {
                    localStorage.removeItem('usuarioLogado');
                    window.location.href = '/index.html';
                }
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const usuarioLogadoStr = localStorage.getItem('usuarioLogado');
            if (!usuarioLogadoStr) {
                alert("Voc√™ precisa estar logado para acessar esta p√°gina.");
                window.location.href = '/pages/login.html';
                return;
            }

            const usuario = JSON.parse(usuarioLogadoStr);

            // Atualiza cabe√ßalho
            document.querySelector('.user-info h1').textContent = `Ol√°, ${usuario.nome || 'Usu√°rio'} üëã`;

            // Formata data de cadastro
            if (usuario.dataCadastro) {
                const data = new Date(usuario.dataCadastro);
                const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
                document.querySelector('.user-info p').textContent =
                    `Usu√°rio desde ${data.toLocaleDateString('pt-BR', options)}`;
            }

            // Preenche formul√°rio
            document.getElementById('nome').value = usuario.nome || '';
            document.getElementById('email').value = usuario.email || '';
            document.getElementById('telefone').value = usuario.telefone || '';
            document.getElementById('cpf').value = usuario.cpf
                ? usuario.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4')
                : '';
            document.getElementById('data-nasc').value = usuario.dataNascimento || '';

            // ‚úÖ PREENCHE ENDERE√áO
            document.getElementById('cep').value = usuario.cep || '';
            document.getElementById('logradouro').value = usuario.logradouro || '';
            document.getElementById('numero').value = usuario.numero || '';
            document.getElementById('complemento').value = usuario.complemento || '';
            document.getElementById('bairro').value = usuario.bairro || '';
            document.getElementById('cidade').value = usuario.cidade || '';
            document.getElementById('uf').value = usuario.uf || '';

            // Bot√£o de sair
            document.getElementById('btn-logout')?.addEventListener('click', function () {
                if (confirm('Sair da conta?')) {
                    localStorage.removeItem('usuarioLogado');
                    window.location.href = '/index.html';
                }
            });
        });
    </script>

</body>

</html>