<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil | Loom</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/perfil.css">
</head>
<body>
    <!-- Header (simplificado) -->
    <header>
        <div class="logo">
            <img src="/assets/logoloom.png" alt="Logo Loom" onclick="window.location.href='/index.html'" />
        </div>
        <nav class="navegacao-principal">
            <ul>
                <li><a href="/index.html">HOME</a></li>
                <li><a href="/pages/pacotes.html">PACOTES</a></li>
                <li><a href="/pages/alugueis.html">ALUGUEL</a></li>
                <li><a href="/pages/passagens.html">PASSAGENS</a></li>
            </ul>
        </nav>
        <div class="header-utils">
            <form class="header-search" role="search">
                <input type="search" placeholder="Pesquisar destinos..." />
                <i class="fa-solid fa-magnifying-glass" style="color: #3d5ab2; margin-left: 8px;"></i>
            </form>
            <div class="area-cliente">
                <a href="/pages/favoritos.html" class="btn-favoritos" title="Favoritos">
                    <i class="fa-regular fa-heart fa-lg" style="color: #3d5ab2;"></i>
                </a>
                <a href="/pages/login.html" class="btn-login" title="Login">
                    <i class="fa-solid fa-circle-user fa-xl" style="color: #3d5ab2;"></i>
                </a>
            </div>
        </div>
    </header>

    <main class="perfil-main">
        <!-- Cabe√ßalho com foto, nome e data -->
        <section class="perfil-header">
            <div class="avatar">
                <i class="fa-solid fa-user fa-4x"></i>
            </div>
            <div class="user-info">
                <h1>Ol√°, <span id="nome-usuario">Carregando...</span> üëã</h1>
                <p id="data-cadastro">Carregando data de cadastro...</p>
                <div class="user-stats">
                    <span><strong>3</strong> Favoritos</span>
                    <span><strong>2</strong> Viagens</span>
                    <span><strong>R$ 8.990,00</strong> Gastos</span>
                </div>
            </div>
        </section>

        <!-- Abas -->
        <section class="perfil-tabs">
            <button class="tab-btn active" data-tab="dados">Dados Pessoais</button>
            <button class="tab-btn" data-tab="historico">Hist√≥rico de Compras</button>
        </section>

        <!-- Aba: Dados Pessoais -->
        <section id="dados" class="tab-content active">
            <h2>Dados Pessoais</h2>

            <br>

            <form class="perfil-form">
                <div class="form-group">
                    <label for="nome">Nome Completo</label>
<<<<<<< HEAD
                    <input type="text" id="nome" readonly>
                </div>
                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" readonly>
                </div>
                <div class="form-group">
                    <label for="telefone">Telefone</label>
                    <input type="tel" id="telefone" readonly>
=======
                    <input type="text" id="nome" required>
                </div>
                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="telefone">Telefone</label>
                    <input type="tel" id="telefone">
>>>>>>> e3b9cdc8fc9fbc2b2bc5ed8c5b35564209033075
                </div>
                <div class="form-group">
                    <label for="cpf">CPF</label>
                    <input type="text" id="cpf" readonly>
                </div>
                <div class="form-group">
                    <label for="data-nasc">Data de Nascimento</label>
<<<<<<< HEAD
                    <input type="date" id="data-nasc" readonly>
=======
                    <input type="date" id="data-nasc">
>>>>>>> e3b9cdc8fc9fbc2b2bc5ed8c5b35564209033075
                </div>
                <div class="form-group">
                    <label for="cep">CEP</label>
                    <input type="text" id="cep" readonly>
                </div>
                <div class="form-group">
                    <label for="logradouro">Logradouro</label>
                    <input type="text" id="logradouro" readonly>
<<<<<<< HEAD
                </div>
                <div class="form-group">
                    <label for="numero">N√∫mero</label>
                    <input type="text" id="numero" readonly>
                </div>
                <div class="form-group">
                    <label for="complemento">Complemento</label>
                    <input type="text" id="complemento" readonly>
                </div>
                <div class="form-group">
                    <label for="bairro">Bairro</label>
                    <input type="text" id="bairro" readonly>
                </div>
                <div class="form-group">
                    <label for="cidade">Cidade</label>
                    <input type="text" id="cidade" readonly>
                </div>
                <div class="form-group">
                    <label for="uf">UF</label>
                    <input type="text" id="uf" maxlength="2" readonly>
                </div>
=======
                </div>
                <div class="form-group">
                    <label for="numero">N√∫mero</label>
                    <input type="text" id="numero">
                </div>
                <div class="form-group">
                    <label for="complemento">Complemento</label>
                    <input type="text" id="complemento">
                </div>
                <div class="form-group">
                    <label for="bairro">Bairro</label>
                    <input type="text" id="bairro" readonly>
                </div>
                <div class="form-group">
                    <label for="cidade">Cidade</label>
                    <input type="text" id="cidade" readonly>
                </div>
                <div class="form-group">
                    <label for="uf">UF</label>
                    <input type="text" id="uf" maxlength="2" readonly>
                </div>

>>>>>>> e3b9cdc8fc9fbc2b2bc5ed8c5b35564209033075
                <button type="button" class="btn-sair" id="btn-logout-perfil">
                    Sair da Conta
                </button>
            </form>
        </section>

        <!-- Aba: Hist√≥rico de Compras -->
        <section id="historico" class="tab-content">
            <h2>Hist√≥rico de Compras</h2>
            <div class="compras-lista">
                <div class="compra-item">
                    <img src="https://via.placeholder.com/100x80/e0e0e0/333?text=Salvador" alt="Salvador">
                    <div class="compra-detalhes">
                        <h3>Salvador - BA</h3>
                        <p>01/12 ‚Äì 15/12 ‚Ä¢ 1-4 pessoas</p>
                        <p><strong>R$ 2.329,00</strong> ‚Ä¢ Finalizado em 20/11/2024</p>
                    </div>
                    <button class="btn-compra">Detalhes</button>
                </div>

                <div class="compra-item">
                    <img src="https://via.placeholder.com/100x80/e0e0e0/333?text=Bali" alt="Bali">
                    <div class="compra-detalhes">
                        <h3>Bali - Indon√©sia</h3>
                        <p>12/12 ‚Äì 21/12 ‚Ä¢ 1-2 pessoas</p>
                        <p><strong>R$ 12.500,00</strong> ‚Ä¢ Finalizado em 15/11/2024</p>
                    </div>
                    <button class="btn-compra">Detalhes</button>
                </div>
            </div>
        </section>
<<<<<<< HEAD
=======

>>>>>>> e3b9cdc8fc9fbc2b2bc5ed8c5b35564209033075
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Verifica login
            const usuarioLogadoStr = localStorage.getItem('usuarioLogado');
            if (!usuarioLogadoStr) {
                alert("Voc√™ precisa estar logado para acessar esta p√°gina.");
                window.location.href = '/pages/login.html';
                return;
            }

            const usuario = JSON.parse(usuarioLogadoStr);

            // Atualiza cabe√ßalho
            document.getElementById('nome-usuario').textContent = usuario.nome || 'Usu√°rio';
            if (usuario.dataCadastro) {
                const data = new Date(usuario.dataCadastro);
                document.getElementById('data-cadastro').textContent = 
                    `Usu√°rio desde ${data.toLocaleDateString('pt-BR')}`;
            }

            // Preenche formul√°rio
            document.getElementById('nome').value = usuario.nome || '';
            document.getElementById('email').value = usuario.email || '';
            document.getElementById('telefone').value = usuario.telefone || '';
            document.getElementById('cpf').value = usuario.cpf 
                ? usuario.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4') 
                : '';
            document.getElementById('data-nasc').value = usuario.dataNascimento || '';
            document.getElementById('cep').value = usuario.cep || '';
            document.getElementById('logradouro').value = usuario.logradouro || '';
            document.getElementById('numero').value = usuario.numero || '';
            document.getElementById('complemento').value = usuario.complemento || '';
            document.getElementById('bairro').value = usuario.bairro || '';
            document.getElementById('cidade').value = usuario.cidade || '';
            document.getElementById('uf').value = usuario.uf || '';

            // Tabs
            document.querySelectorAll('.tab-btn').forEach(button => {
                button.addEventListener('click', () => {
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    button.classList.add('active');
                    const tab = button.getAttribute('data-tab');
                    document.getElementById(tab).classList.add('active');
                });
            });

            // Bot√£o de sair
            document.getElementById('btn-logout-perfil').addEventListener('click', function () {
                if (confirm('Tem certeza que deseja sair?')) {
                    localStorage.removeItem('usuarioLogado');
                    alert('Voc√™ saiu da conta.');
                    window.location.href = '/index.html';
                }
            });
        });
    </script>
<<<<<<< HEAD
=======

    <script>
        // Bot√£o de sair dentro da aba de Dados Pessoais
        document.getElementById('btn-logout-perfil')?.addEventListener('click', function () {
            if (confirm('Tem certeza que deseja sair?')) {
                localStorage.removeItem('usuarioLogado');
                alert('Voc√™ saiu da conta.');
                window.location.href = '/pages/index.html';
            }
        });
    </script>

    <script src="/Javascript/perfil.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Verifica login
            const usuarioLogadoStr = localStorage.getItem('usuarioLogado');
            if (!usuarioLogadoStr) {
                alert("Voc√™ precisa estar logado para acessar esta p√°gina.");
                window.location.href = '/pages/login.html';
                return;
            }

            const usuario = JSON.parse(usuarioLogadoStr);

            // Atualiza cabe√ßalho
            document.querySelector('.user-info h1').textContent = `Ol√°, ${usuario.nome || 'Usu√°rio'} üëã`;

            // Formata e exibe data de cadastro
            if (usuario.dataCadastro) {
                const data = new Date(usuario.dataCadastro);
                const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
                document.querySelector('.user-info p').textContent =
                    `Usu√°rio desde ${data.toLocaleDateString('pt-BR', options)}`;
            }

            // Preenche o formul√°rio
            document.getElementById('nome').value = usuario.nome || '';
            document.getElementById('email').value = usuario.email || '';
            document.getElementById('telefone').value = usuario.telefone || '';
            document.getElementById('cpf').value = usuario.cpf
                ? usuario.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4')
                : '';
            document.getElementById('data-nasc').value = usuario.dataNascimento || '';

            // Endere√ßo (se tiver ‚Äî voc√™ pode salvar no cadastro futuramente)
            // Por enquanto, deixa em branco ou usa dados fict√≠cios
            // Se quiser, posso te ajudar a salvar o endere√ßo no cadastro tamb√©m!

            // Bot√£o de sair
            document.getElementById('btn-logout')?.addEventListener('click', function () {
                if (confirm('Sair da conta?')) {
                    localStorage.removeItem('usuarioLogado');
                    window.location.href = '/index.html';
                }
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const usuarioLogadoStr = localStorage.getItem('usuarioLogado');
            if (!usuarioLogadoStr) {
                alert("Voc√™ precisa estar logado para acessar esta p√°gina.");
                window.location.href = '/pages/login.html';
                return;
            }

            const usuario = JSON.parse(usuarioLogadoStr);

            // Atualiza cabe√ßalho
            document.querySelector('.user-info h1').textContent = `Ol√°, ${usuario.nome || 'Usu√°rio'} üëã`;

            // Formata data de cadastro
            if (usuario.dataCadastro) {
                const data = new Date(usuario.dataCadastro);
                const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
                document.querySelector('.user-info p').textContent =
                    `Usu√°rio desde ${data.toLocaleDateString('pt-BR', options)}`;
            }

            // Preenche formul√°rio
            document.getElementById('nome').value = usuario.nome || '';
            document.getElementById('email').value = usuario.email || '';
            document.getElementById('telefone').value = usuario.telefone || '';
            document.getElementById('cpf').value = usuario.cpf
                ? usuario.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4')
                : '';
            document.getElementById('data-nasc').value = usuario.dataNascimento || '';

            // ‚úÖ PREENCHE ENDERE√áO
            document.getElementById('cep').value = usuario.cep || '';
            document.getElementById('logradouro').value = usuario.logradouro || '';
            document.getElementById('numero').value = usuario.numero || '';
            document.getElementById('complemento').value = usuario.complemento || '';
            document.getElementById('bairro').value = usuario.bairro || '';
            document.getElementById('cidade').value = usuario.cidade || '';
            document.getElementById('uf').value = usuario.uf || '';

            // Bot√£o de sair
            document.getElementById('btn-logout')?.addEventListener('click', function () {
                if (confirm('Sair da conta?')) {
                    localStorage.removeItem('usuarioLogado');
                    window.location.href = '/index.html';
                }
            });
        });
    </script>

>>>>>>> e3b9cdc8fc9fbc2b2bc5ed8c5b35564209033075
</body>
</html>